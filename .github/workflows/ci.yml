name: HubFun Backend Rails Workflows
on: [push]
jobs:
  run:
    runs-on: ubuntu-latest
    # services:
    #   mysql:
    #     image: mysql:8.0
    #     ports:
    #       - 3306:3306
    #     env:
    #       MYSQL_ROOT_USER: root
    #       MYSQL_USER: root
    #       MYSQL_ROOT_PASSWORD: password
    #     options: --health-cmd "mysqladmin ping -h localhost" --health-interval 20s --health-timeout 10s --health-retries 10
    container:
      image: ruby:3.1
      env:
        RAILS_ENV: test
    steps:
      # githubにプッシュした最新のコミットを取得し、それに対して処理を実行するよう切り替えている。
      - uses: actions/checkout@v2
      - name: test
        run: |
          rails version
